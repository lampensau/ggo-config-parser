(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9612:(e,a,r)=>{Promise.resolve().then(r.bind(r,3473))},3473:(e,a,r)=>{"use strict";r.d(a,{default:()=>w});var s=r(5155),t=r(2115),d=r(3463),l=r(9795);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,l.QP)((0,d.$)(a))}let n=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});n.displayName="Card";let c=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:i("flex flex-col space-y-1.5 p-6",r),...t})});c.displayName="CardHeader";let o=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("h3",{ref:a,className:i("text-2xl font-semibold leading-none tracking-tight",r),...t})});o.displayName="CardTitle";let m=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:i("p-6 pt-0",r),...t})});m.displayName="CardContent";var x=r(6535),g=r(7987),h=r(8482),p=r(4352),y=r(6694),u=r(5942),f=r(7113),N=r(7644);let j=N.Kq,k=N.bL,b=N.l9,v=t.forwardRef((e,a)=>{let{className:r,sideOffset:t=4,...d}=e;return(0,s.jsx)(N.UC,{ref:a,sideOffset:t,className:i("z-50 overflow-hidden rounded-md bg-gray-900 px-3 py-1.5 text-xs text-gray-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...d})});v.displayName=N.UC.displayName;let w=()=>{let[e,a]=(0,t.useState)(null),[r,d]=(0,t.useState)(null),[l,i]=(0,t.useState)(!1),[N,w]=(0,t.useState)(null),{theme:C,setTheme:D}=(0,f.D)(),[S,A]=(0,t.useState)(!1),I={258:"BPX Beltpack",259:"BPXSP Sports Beltpack",322:"WBPXSP Sports Beltpack",325:"WBPRVCBRS Beltpack",326:"WBPRVCBRSSP Beltpack",384:"Wallpanels Group",385:"WPSP Wallpanel",386:"WPHS Wallpanel",387:"WPNA Wallpanel",388:"WPX Wallpanel",513:"MCD08 Desk Station",514:"MCR12 Desk Station",515:"MCD16 Desk Station",516:"MCD24 Desk Station",517:"MCD32 Desk Station",518:"MCX Rack Station",519:"MCXEXT Rack Channel Extension",520:"MCXD Desk Station",521:"MCXDEXT Desk Channel Extension",769:"4W Interface",770:"2W Interface",771:"BRIDGE Interface",772:"INTERFACEX (LCD)",773:"INTERFACEX (TFT)",774:"BRIDGEX Interface (LCD)",775:"BRIDGEX Interface (TFT)",776:"Q4WR Interface",777:"DANTE Interface",897:"BCN Beacon",898:"WAA Antenna",899:"SIRDX Interface",900:"SI4WR Interface",901:"SI2WR Interface",902:"SIBR8RV Interface"},T=e=>I[e]||"Unknown Device Type",R=e=>{try{let a=JSON.parse(e),r=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""),s={"Configuration Name":a.Settings.Name,"Configuration ID":a.Settings.configId.substring(0,8),"Multicast Address":a.Settings.MulticastAddress,"Config Timestamp":r(a.Settings.savedAtTimestamp),"Binary Timestamp":r(a.Settings.binaryTimestamp)},t=Object.entries(a.Users).filter(e=>{let[a]=e;return"keys"!==a&&"badge"!==a}).map(e=>{let[a,r]=e;return{id:a,name:r.Name,color:r.Color,devices:[]}}),d={};Object.entries(a.Devices||{}).filter(e=>{let[a]=e;return"keys"!==a&&"badge"!==a}).forEach(e=>{let[a,r]=e;r.UserId&&1===r.UserId.Type&&(d[a.slice(-6)]=r.UserId.Id.toString())});let l=Object.entries(a.Network||{}).filter(e=>{let[a]=e;return"keys"!==a&&"badge"!==a}).map(e=>{let[a,r]=e,s=r.macAddress.split("-").slice(-3).join("").toUpperCase();return{name:r.Name,deviceType:r.deviceType,typeName:T(r.deviceType),serialNumber:r.serialNumber,firmware:r.firmwareName,ipAddress:r.IpAddress,macAddress:r.macAddress,linkedToUser:d[s]||null}}),i=l.filter(e=>null===e.linkedToUser).length;return s["Unassigned Devices"]=i,{configInfo:s,users:t,devices:l}}catch(e){throw Error("Failed to parse configuration file. Please ensure it is a valid Green-GO configuration file.")}},E=(0,t.useCallback)(e=>{e.preventDefault(),i(!1),d(null);let r=e.dataTransfer.files[0];if(!r)return;if(!r.name.endsWith(".gg5")&&!r.name.endsWith(".json")){d("Please upload a Green-GO .gg5 configuration file");return}w(r.name);let s=new FileReader;s.onload=e=>{try{let r=R(e.target.result);a(r)}catch(e){d(e.message)}},s.readAsText(r)},[]),P=(0,t.useCallback)(e=>{e.preventDefault(),i(!0)},[]),U=(0,t.useCallback)(e=>{e.preventDefault(),i(!1)},[]),B=(0,t.useCallback)(()=>{if(!e)return;let a=N?N.replace(/\.(gg5)$/,".csv"):"config_export.csv",r=new Blob([["User Name,User ID,Device Name,Device Type,Serial Number,Firmware,IP Address,MAC Address",...e.users.flatMap(a=>{let r=e.devices.filter(e=>e.linkedToUser===a.id);return r.length>0?r.map(e=>[a.name,a.id,e.name,e.typeName,e.serialNumber,e.firmware,e.ipAddress,e.macAddress].map(e=>'"'.concat(e||"",'"')).join(",")):[[a.name,a.id,"","","","","",""].map(e=>'"'.concat(e||"",'"')).join(",")]}),...e.devices.filter(e=>null===e.linkedToUser).map(e=>["","",e.name,e.typeName,e.serialNumber,e.firmware,e.ipAddress,e.macAddress].map(e=>'"'.concat(e||"",'"')).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),t=URL.createObjectURL(r);s.setAttribute("href",t),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},[e,N]);return(0,t.useEffect)(()=>{A(!0)},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",role:"main",children:[(0,s.jsx)("div",{className:"sticky top-0 z-10 bg-emerald-600 dark:bg-emerald-800 shadow-md",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("img",{src:"/ggo-config-parser/logo-plain.svg",alt:"Green-GO Logo",className:"h-8 mr-2 brightness-0 invert"}),(0,s.jsx)("h1",{className:"text-white text-xl font-semibold",children:"Green-GO Config Parser"})]}),(0,s.jsx)(j,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",role:"toolbar","aria-label":"Main controls",children:[e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k,{children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsx)("button",{className:"p-2 bg-white dark:bg-gray-200 text-emerald-700 rounded-md hover:bg-emerald-50 dark:hover:bg-gray-300 transition-colors duration-200",onClick:B,"aria-label":"Export to CSV",children:(0,s.jsx)(p.A,{className:"w-5 h-5","aria-hidden":"true"})})}),(0,s.jsx)(v,{children:"Export to CSV"})]}),(0,s.jsxs)(k,{children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsx)("button",{className:"p-2 bg-emerald-700 dark:bg-emerald-900 text-white rounded-md hover:bg-emerald-800 dark:hover:bg-emerald-950 transition-colors duration-200",onClick:()=>{a(null),d(null)},"aria-label":"Parse another file",children:(0,s.jsx)(y.A,{className:"w-5 h-5","aria-hidden":"true"})})}),(0,s.jsx)(v,{children:"Parse another file"})]})]}),(0,s.jsxs)(k,{children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsx)("button",{className:"p-2 bg-emerald-700 dark:bg-emerald-900 text-white rounded-md hover:bg-emerald-800 dark:hover:bg-emerald-950 transition-colors duration-200",onClick:()=>{"dark"===C?D("light"):"light"===C?D("system"):D("dark")},"aria-label":S?"Switch theme (currently ".concat(C,")"):"Loading theme...",children:S?"dark"===C?(0,s.jsx)(x.A,{className:"w-5 h-5"}):"light"===C?(0,s.jsx)(g.A,{className:"w-5 h-5"}):(0,s.jsx)(h.A,{className:"w-5 h-5"}):null})}),(0,s.jsx)(v,{children:S?"dark"===C?"Switch to light mode":"light"===C?"Switch to system theme":"Switch to dark mode":"Loading theme..."})]})]})})]})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(n,{className:"bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,s.jsx)(c,{children:(0,s.jsx)(o,{className:"text-emerald-700 dark:text-gray-100",children:"Configuration Details"})}),(0,s.jsx)(m,{children:(0,s.jsx)("dl",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:Object.entries(e.configInfo).map(e=>{let[a,r]=e;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("dt",{className:"font-medium text-gray-500 dark:text-gray-400",children:a}),(0,s.jsx)("dd",{className:"text-gray-900 dark:text-gray-100",children:r})]},a)})})})]}),e.users.map(a=>{let r=e.devices.filter(e=>e.linkedToUser===a.id);return(0,s.jsxs)(n,{className:"bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,s.jsx)(c,{children:(0,s.jsxs)(o,{className:"text-lg text-gray-900 dark:text-gray-100",children:["User: ",a.name,(0,s.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-normal ml-2",children:["(ID: ",a.id,")"]}),r.length>0&&(0,s.jsxs)("span",{className:"text-sm text-emerald-600 dark:text-emerald-400 font-normal ml-2",children:[r.length," device",1!==r.length?"s":""]})]})}),(0,s.jsx)(m,{children:r.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(e=>(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Name: "}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name})]}),(0,s.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.typeName})]}),(0,s.jsxs)("div",{className:"text-sm grid grid-cols-2 gap-x-4 gap-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"S/N: "}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:e.serialNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"FW: "}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:e.firmware})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"IP: "}),(0,s.jsx)("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:e.ipAddress})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"MAC: "}),(0,s.jsx)("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:e.macAddress})]})]})]})},e.macAddress))}):(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No devices linked"})})]},a.id)}),(0,s.jsxs)(n,{className:"bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,s.jsx)(c,{children:(0,s.jsx)(o,{className:"text-lg text-gray-900 dark:text-gray-100",children:"Unassigned Devices"})}),(0,s.jsx)(m,{children:(0,s.jsx)("div",{className:"grid gap-4",children:e.devices.filter(e=>null===e.linkedToUser).map(e=>(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Name"}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:e.name})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Device Type"}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:e.typeName})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Serial Number"}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:e.serialNumber})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Firmware"}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:e.firmware})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"IP Address"}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-gray-100 font-mono",children:e.ipAddress})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"MAC Address"}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-gray-100 font-mono",children:e.macAddress})]})]})},e.macAddress))})})]})]}):(0,s.jsx)(n,{className:"border-2 border-dashed",children:(0,s.jsx)(m,{className:"p-6",children:(0,s.jsxs)("div",{className:"rounded-lg p-8 text-center cursor-pointer transition-colors duration-200\n                  ".concat(l?"bg-emerald-50 dark:bg-emerald-950/50 border-emerald-500":"bg-white dark:bg-gray-800 hover:bg-emerald-50 dark:hover:bg-emerald-950/30","\n                  ").concat(r?"border-red-500 bg-red-50 dark:bg-red-950/50":""),onDrop:E,onDragOver:P,onDragLeave:U,onClick:()=>document.getElementById("file-input").click(),role:"button",tabIndex:0,"aria-label":"Drop zone for configuration file",onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&document.getElementById("file-input").click()},children:[(0,s.jsx)("input",{type:"file",id:"file-input",className:"sr-only",accept:".gg5,.json",onChange:e=>{let a=e.target.files[0];a&&E({preventDefault:()=>{},dataTransfer:{files:[a]}})},"aria-label":"Upload configuration file"}),(0,s.jsx)(u.A,{className:"w-16 h-16 mx-auto mb-4 text-emerald-600 dark:text-emerald-400","aria-hidden":"true"}),(0,s.jsx)("p",{className:"text-lg mb-2 font-medium text-gray-700 dark:text-gray-200",children:"Drag and drop your configuration file here"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(Only supports Green-GO ",(0,s.jsx)("code",{children:".gg5"})," configuration files)"]}),r&&(0,s.jsx)("p",{className:"text-red-500 dark:text-red-400 mt-4",role:"alert",children:r})]})})})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[660,441,517,358],()=>a(9612)),_N_E=e.O()}]);